<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libclod: Hash table</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libclod
   </div>
   <div id="projectbrief">C library for interacting with NBTs, region files, LOD data and other things.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__table.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Hash table </div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:clod_5Ftable_5Fopts" id="r_clod_5Ftable_5Fopts"><td class="memItemLeft">struct &#160;</td><td class="memItemRight"><a class="el" href="structclod__table__opts.html">clod_table_opts</a></td></tr>
<tr class="memitem:clod_5Ftable_5Fiter" id="r_clod_5Ftable_5Fiter"><td class="memItemLeft">struct &#160;</td><td class="memItemRight"><a class="el" href="structclod__table__iter.html">clod_table_iter</a></td></tr>
<tr class="memitem:clod_5Ftable" id="r_clod_5Ftable"><td class="memItemLeft">struct &#160;</td><td class="memItemRight"><a class="el" href="structclod__table.html">clod_table</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga6a56923d19fe81a782cf25a0e412262f" id="r_ga6a56923d19fe81a782cf25a0e412262f"><td class="memItemLeft">#define&#160;</td><td class="memItemRight"><a class="el" href="#ga6a56923d19fe81a782cf25a0e412262f">CLOD_TABLE_ITER_INIT</a>&#160;&#160;&#160;(struct <a class="el" href="structclod__table__iter.html">clod_table_iter</a>){ ._internal = 0 }</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaaa4f82888b60e6a15ad73726a81c835a" id="r_gaaa4f82888b60e6a15ad73726a81c835a"><td class="memItemLeft">struct <a class="el" href="structclod__table.html">clod_table</a> *&#160;</td><td class="memItemRight"><a class="el" href="#gaaa4f82888b60e6a15ad73726a81c835a">clod_table_create</a> (const struct <a class="el" href="structclod__table__opts.html">clod_table_opts</a> *opts)</td></tr>
<tr class="memitem:ga239b3e23b7e9a91d1e32014257e8ee5a" id="r_ga239b3e23b7e9a91d1e32014257e8ee5a"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#ga239b3e23b7e9a91d1e32014257e8ee5a">clod_table_destroy</a> (struct <a class="el" href="structclod__table.html">clod_table</a> *t)</td></tr>
<tr class="memitem:ga1b3e25a7596146eba0a019e5eb95900a" id="r_ga1b3e25a7596146eba0a019e5eb95900a"><td class="memItemLeft">size_t&#160;</td><td class="memItemRight"><a class="el" href="#ga1b3e25a7596146eba0a019e5eb95900a">clod_table_len</a> (const struct <a class="el" href="structclod__table.html">clod_table</a> *t)</td></tr>
<tr class="memitem:ga0461d4310832868c49bc80d92ae97380" id="r_ga0461d4310832868c49bc80d92ae97380"><td class="memItemLeft">void *&#160;</td><td class="memItemRight"><a class="el" href="#ga0461d4310832868c49bc80d92ae97380">clod_table_add</a> (struct <a class="el" href="structclod__table.html">clod_table</a> *t, const void *<a class="el" href="structelement.html">element</a>, size_t key_size)</td></tr>
<tr class="memitem:ga9e9bc355477840c482ea564f31b39239" id="r_ga9e9bc355477840c482ea564f31b39239"><td class="memItemLeft">void *&#160;</td><td class="memItemRight"><a class="el" href="#ga9e9bc355477840c482ea564f31b39239">clod_table_set</a> (struct <a class="el" href="structclod__table.html">clod_table</a> *t, const void *<a class="el" href="structelement.html">element</a>, size_t key_size)</td></tr>
<tr class="memitem:gacca658a9b075d4f6d5b551d637f14290" id="r_gacca658a9b075d4f6d5b551d637f14290"><td class="memItemLeft">void *&#160;</td><td class="memItemRight"><a class="el" href="#gacca658a9b075d4f6d5b551d637f14290">clod_table_get</a> (const struct <a class="el" href="structclod__table.html">clod_table</a> *t, const void *key, size_t key_size)</td></tr>
<tr class="memitem:gae007e3135fdf976ccd71b3b2f485c441" id="r_gae007e3135fdf976ccd71b3b2f485c441"><td class="memItemLeft">void *&#160;</td><td class="memItemRight"><a class="el" href="#gae007e3135fdf976ccd71b3b2f485c441">clod_table_del</a> (struct <a class="el" href="structclod__table.html">clod_table</a> *t, const void *key, size_t key_size)</td></tr>
<tr class="memitem:ga4782517629528b5c714af9d132082364" id="r_ga4782517629528b5c714af9d132082364"><td class="memItemLeft">bool&#160;</td><td class="memItemRight"><a class="el" href="#ga4782517629528b5c714af9d132082364">clod_table_iter</a> (const struct <a class="el" href="structclod__table.html">clod_table</a> *t, struct clod_table_iter *iter)</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A hash table implementation. It's a pure set at heart, but since methods never return a pointer not supplied by the user, it can be trivially extended to a key-&gt;value map by storing the value after the key. The difference in wording between 'element' and 'key' reflects this. If implementing a map, 'element' implies the key and trailing value data associated with it, while 'key' simply implies the key value. If instead a pure set is required - 'element' and 'key' become interchangeable. I would recommend using a struct with the first field being the key and subsequent fields being the value, although for maps with variable-length keys more manual intervention may be required. </p>
</div><a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="ga6a56923d19fe81a782cf25a0e412262f" name="ga6a56923d19fe81a782cf25a0e412262f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a56923d19fe81a782cf25a0e412262f">&#9670;&#160;</a></span>CLOD_TABLE_ITER_INIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLOD_TABLE_ITER_INIT&#160;&#160;&#160;(struct <a class="el" href="structclod__table__iter.html">clod_table_iter</a>){ ._internal = 0 }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="table_8h_source.html#l00132">132</a> of file <a class="el" href="table_8h_source.html">table.h</a>.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="gaaa4f82888b60e6a15ad73726a81c835a" name="gaaa4f82888b60e6a15ad73726a81c835a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa4f82888b60e6a15ad73726a81c835a">&#9670;&#160;</a></span>clod_table_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structclod__table.html">clod_table</a> * clod_table_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structclod__table__opts.html">clod_table_opts</a> *</td>          <td class="paramname"><span class="paramname"><em>opts</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new table. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">opts</td><td>Configuration options for the table. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Initialised table. </dd></dl>

<p class="definition">Definition at line <a class="el" href="table_8c_source.html#l00172">172</a> of file <a class="el" href="table_8c_source.html">table.c</a>.</p>

</div>
</div>
<a id="ga239b3e23b7e9a91d1e32014257e8ee5a" name="ga239b3e23b7e9a91d1e32014257e8ee5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga239b3e23b7e9a91d1e32014257e8ee5a">&#9670;&#160;</a></span>clod_table_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clod_table_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclod__table.html">clod_table</a> *</td>          <td class="paramname"><span class="paramname"><em>t</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release resources associated with the table. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Table to free. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="table_8c_source.html#l00187">187</a> of file <a class="el" href="table_8c_source.html">table.c</a>.</p>

</div>
</div>
<a id="ga1b3e25a7596146eba0a019e5eb95900a" name="ga1b3e25a7596146eba0a019e5eb95900a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b3e25a7596146eba0a019e5eb95900a">&#9670;&#160;</a></span>clod_table_len()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t clod_table_len </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structclod__table.html">clod_table</a> *</td>          <td class="paramname"><span class="paramname"><em>t</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the number of elements in the table. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>Handle to the table. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of elements currently in the table. </dd></dl>

<p class="definition">Definition at line <a class="el" href="table_8c_source.html#l00191">191</a> of file <a class="el" href="table_8c_source.html">table.c</a>.</p>

</div>
</div>
<a id="ga0461d4310832868c49bc80d92ae97380" name="ga0461d4310832868c49bc80d92ae97380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0461d4310832868c49bc80d92ae97380">&#9670;&#160;</a></span>clod_table_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * clod_table_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclod__table.html">clod_table</a> *</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>element</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>key_size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add an element. If the key already exists, the operation will fail and return the existing key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>Handle to the table. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname"><a class="el" href="structelement.html">element</a></td><td>Element to add. The table takes ownership on success. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_size</td><td>Size of the key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nullptr on success, the existing element if the key exists, or the provided element on allocation failure. The table retains ownership of an existing element. </dd></dl>

<p class="definition">Definition at line <a class="el" href="table_8c_source.html#l00194">194</a> of file <a class="el" href="table_8c_source.html">table.c</a>.</p>

</div>
</div>
<a id="ga9e9bc355477840c482ea564f31b39239" name="ga9e9bc355477840c482ea564f31b39239"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e9bc355477840c482ea564f31b39239">&#9670;&#160;</a></span>clod_table_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * clod_table_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclod__table.html">clod_table</a> *</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>element</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>key_size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add or replace an element. If the key already exists, it is replaced.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>Handle to the table. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname"><a class="el" href="structelement.html">element</a></td><td>Element to insert. The table takes ownership on success. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_size</td><td>Size of the key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Previous element if the key existed, nullptr if it didn't, or the provided element on allocation failure. The caller takes ownership of the previous element. </dd></dl>

<p class="definition">Definition at line <a class="el" href="table_8c_source.html#l00203">203</a> of file <a class="el" href="table_8c_source.html">table.c</a>.</p>

</div>
</div>
<a id="gacca658a9b075d4f6d5b551d637f14290" name="gacca658a9b075d4f6d5b551d637f14290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacca658a9b075d4f6d5b551d637f14290">&#9670;&#160;</a></span>clod_table_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * clod_table_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structclod__table.html">clod_table</a> *</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>key_size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get an element from the table. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>Handle to the table. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Key to look up. Caller retains ownership. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_size</td><td>Size of the key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Found element or null. The table retains ownership of the element. </dd></dl>

<p class="definition">Definition at line <a class="el" href="table_8c_source.html#l00212">212</a> of file <a class="el" href="table_8c_source.html">table.c</a>.</p>

</div>
</div>
<a id="gae007e3135fdf976ccd71b3b2f485c441" name="gae007e3135fdf976ccd71b3b2f485c441"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae007e3135fdf976ccd71b3b2f485c441">&#9670;&#160;</a></span>clod_table_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * clod_table_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclod__table.html">clod_table</a> *</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>key_size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove an element from the table. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>Handle to the table. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Key to delete. Caller retains ownership. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_size</td><td>Size of the key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the removed element, or nullptr if the key doesn't exist. The caller takes ownership of the element. </dd></dl>

<p class="definition">Definition at line <a class="el" href="table_8c_source.html#l00221">221</a> of file <a class="el" href="table_8c_source.html">table.c</a>.</p>

</div>
</div>
<a id="ga4782517629528b5c714af9d132082364" name="ga4782517629528b5c714af9d132082364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4782517629528b5c714af9d132082364">&#9670;&#160;</a></span>clod_table_iter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool clod_table_iter </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structclod__table.html">clod_table</a> *</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct clod_table_iter *</td>          <td class="paramname"><span class="paramname"><em>iter</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the next element in, or start, an iteration over table elements. Mutating the table during iteration can result in existing elements being iterated more than once or not at all.</p>
<p>The iterator should be zero initialised to start an iteration. The iterator is zeroed at the end of the iteration.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>Handle to the table. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">iter</td><td>Iterator to be incremented. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the next element was found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="table_8c_source.html#l00234">234</a> of file <a class="el" href="table_8c_source.html">table.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
